{"ast":null,"code":"var _jsxFileName = \"D:\\\\52200147\\\\HKVII\\\\NodeJS\\\\CK\\\\ecommerce_project_NodeJS_final\\\\frontend\\\\src\\\\components\\\\product\\\\ProductCard.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  const formatPrice = price => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\"\n    }).format(price);\n  };\n\n  // --- LOGIC MỚI ĐỂ LẤY ẢNH ---\n  const getImageUrl = product => {\n    if (!product.images || product.images.length === 0) {\n      return \"https://via.placeholder.com/300x300?text=No+Image\";\n    }\n    const firstImage = product.images[0];\n\n    // Kiểm tra xem firstImage là chuỗi (string) hay đối tượng (object)\n    if (typeof firstImage === 'string') {\n      return firstImage;\n    } else if (typeof firstImage === 'object' && firstImage.url) {\n      return firstImage.url; // <--- Đây là dòng sửa lỗi cho data của bạn\n    }\n    return \"https://via.placeholder.com/300x300?text=Error\";\n  };\n  const imageUrl = getImageUrl(product);\n  // -----------------------------\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card h-100 shadow-sm border-0\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product.slug || product._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUrl,\n          className: \"card-img-top p-3\",\n          alt: product.name,\n          style: {\n            objectFit: \"contain\",\n            height: \"200px\"\n          }\n          // Thêm xử lý khi ảnh lỗi thì hiện ảnh mặc định\n          ,\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = \"https://via.placeholder.com/300?text=Lỗi+Ảnh\";\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"card-title text-truncate\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"text-decoration-none text-dark\",\n            title: product.name,\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-danger fw-bold\",\n              children: formatPrice(product.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-warning\",\n              children: [product.rating > 0 ? product.rating : 0, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"btn btn-outline-primary btn-sm w-100\",\n            children: \"Xem chi ti\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","ProductCard","product","formatPrice","price","Intl","NumberFormat","style","currency","format","getImageUrl","images","length","firstImage","url","imageUrl","className","children","to","slug","_id","src","alt","name","objectFit","height","onError","e","target","onerror","fileName","_jsxFileName","lineNumber","columnNumber","title","rating","_c","$RefreshReg$"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/components/product/ProductCard.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    }).format(price);\r\n  };\r\n\r\n  // --- LOGIC MỚI ĐỂ LẤY ẢNH ---\r\n  const getImageUrl = (product) => {\r\n    if (!product.images || product.images.length === 0) {\r\n      return \"https://via.placeholder.com/300x300?text=No+Image\";\r\n    }\r\n    \r\n    const firstImage = product.images[0];\r\n    \r\n    // Kiểm tra xem firstImage là chuỗi (string) hay đối tượng (object)\r\n    if (typeof firstImage === 'string') {\r\n        return firstImage;\r\n    } else if (typeof firstImage === 'object' && firstImage.url) {\r\n        return firstImage.url; // <--- Đây là dòng sửa lỗi cho data của bạn\r\n    }\r\n    \r\n    return \"https://via.placeholder.com/300x300?text=Error\";\r\n  };\r\n\r\n  const imageUrl = getImageUrl(product);\r\n  // -----------------------------\r\n\r\n  return (\r\n    <div className=\"col\">\r\n      <div className=\"card h-100 shadow-sm border-0\">\r\n        <Link to={`/product/${product.slug || product._id}`}>\r\n          <img\r\n            src={imageUrl}\r\n            className=\"card-img-top p-3\"\r\n            alt={product.name}\r\n            style={{ objectFit: \"contain\", height: \"200px\" }}\r\n            // Thêm xử lý khi ảnh lỗi thì hiện ảnh mặc định\r\n            onError={(e) => { e.target.onerror = null; e.target.src = \"https://via.placeholder.com/300?text=Lỗi+Ảnh\"; }}\r\n          />\r\n        </Link>\r\n        <div className=\"card-body d-flex flex-column\">\r\n          <h6 className=\"card-title text-truncate\">\r\n            <Link\r\n              to={`/product/${product.slug || product._id}`}\r\n              className=\"text-decoration-none text-dark\"\r\n              title={product.name}\r\n            >\r\n              {product.name}\r\n            </Link>\r\n          </h6>\r\n          \r\n          <div className=\"mt-auto\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n              <span className=\"text-danger fw-bold\">\r\n                {formatPrice(product.price)}\r\n              </span>\r\n              <small className=\"text-warning\">\r\n                {product.rating > 0 ? product.rating : 0} <i className=\"fas fa-star\"></i>\r\n              </small>\r\n            </div>\r\n            \r\n            <Link \r\n              to={`/product/${product.slug || product._id}`} \r\n              className=\"btn btn-outline-primary btn-sm w-100\"\r\n            >\r\n              Xem chi tiết\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}