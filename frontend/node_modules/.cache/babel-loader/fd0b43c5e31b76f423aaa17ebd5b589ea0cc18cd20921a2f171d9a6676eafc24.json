{"ast":null,"code":"// src/pages/ProductDetail.js\n(function () {\n  async function mount(root, {\n    id\n  }) {\n    if (!id) {\n      root.innerHTML = `<div class=\"p-4 text-red-600\">Thiếu sản phẩm.</div>`;\n      return;\n    }\n    root.innerHTML = `<div class=\"p-4\">Đang tải chi tiết...</div>`;\n    try {\n      const product = await window.Api.ProductAPI.get(id); // kỳ vọng backend trả object product\n      root.innerHTML = `\n        <div class=\"product-detail\">\n          <img src=\"${product.image || '/placeholder.png'}\" alt=\"${product.name}\" />\n          <div class=\"info\">\n            <h2>${product.name}</h2>\n            <div class=\"price\">${(product.price || 0).toLocaleString()} đ</div>\n            <p>${product.description || ''}</p>\n            <button id=\"btnAdd\" class=\"btn\">Thêm vào giỏ</button>\n          </div>\n        </div>\n      `;\n      root.querySelector('#btnAdd').addEventListener('click', () => {\n        window.Cart.add({\n          productId: product._id,\n          variantId: null,\n          price: product.price,\n          name: product.name,\n          qty: 1\n        });\n        alert('Đã thêm vào giỏ');\n        location.hash = '#/cart';\n      });\n    } catch (e) {\n      root.innerHTML = `<div class=\"p-4 text-red-600\">Lỗi tải: ${e.message}</div>`;\n    }\n  }\n  window.Pages = window.Pages || {};\n  window.Pages.ProductDetail = {\n    mount\n  };\n})();","map":{"version":3,"names":["mount","root","id","innerHTML","product","window","Api","ProductAPI","get","image","name","price","toLocaleString","description","querySelector","addEventListener","Cart","add","productId","_id","variantId","qty","alert","location","hash","e","message","Pages","ProductDetail"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/pages/ProductDetail.js"],"sourcesContent":["// src/pages/ProductDetail.js\r\n(function() {\r\n    async function mount(root, { id }) {\r\n        if (!id) {\r\n            root.innerHTML = `<div class=\"p-4 text-red-600\">Thiếu sản phẩm.</div>`;\r\n            return;\r\n        }\r\n\r\n        root.innerHTML = `<div class=\"p-4\">Đang tải chi tiết...</div>`;\r\n        try {\r\n            const product = await window.Api.ProductAPI.get(id); // kỳ vọng backend trả object product\r\n            root.innerHTML = `\r\n        <div class=\"product-detail\">\r\n          <img src=\"${product.image || '/placeholder.png'}\" alt=\"${product.name}\" />\r\n          <div class=\"info\">\r\n            <h2>${product.name}</h2>\r\n            <div class=\"price\">${(product.price || 0).toLocaleString()} đ</div>\r\n            <p>${product.description || ''}</p>\r\n            <button id=\"btnAdd\" class=\"btn\">Thêm vào giỏ</button>\r\n          </div>\r\n        </div>\r\n      `;\r\n            root.querySelector('#btnAdd').addEventListener('click', () => {\r\n                window.Cart.add({ productId: product._id, variantId: null, price: product.price, name: product.name, qty: 1 });\r\n                alert('Đã thêm vào giỏ');\r\n                location.hash = '#/cart';\r\n            });\r\n        } catch (e) {\r\n            root.innerHTML = `<div class=\"p-4 text-red-600\">Lỗi tải: ${e.message}</div>`;\r\n        }\r\n    }\r\n\r\n    window.Pages = window.Pages || {};\r\n    window.Pages.ProductDetail = { mount };\r\n})();"],"mappings":"AAAA;AACA,CAAC,YAAW;EACR,eAAeA,KAAKA,CAACC,IAAI,EAAE;IAAEC;EAAG,CAAC,EAAE;IAC/B,IAAI,CAACA,EAAE,EAAE;MACLD,IAAI,CAACE,SAAS,GAAG,qDAAqD;MACtE;IACJ;IAEAF,IAAI,CAACE,SAAS,GAAG,6CAA6C;IAC9D,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMC,MAAM,CAACC,GAAG,CAACC,UAAU,CAACC,GAAG,CAACN,EAAE,CAAC,CAAC,CAAC;MACrDD,IAAI,CAACE,SAAS,GAAG;AAC7B;AACA,sBAAsBC,OAAO,CAACK,KAAK,IAAI,kBAAkB,UAAUL,OAAO,CAACM,IAAI;AAC/E;AACA,kBAAkBN,OAAO,CAACM,IAAI;AAC9B,iCAAiC,CAACN,OAAO,CAACO,KAAK,IAAI,CAAC,EAAEC,cAAc,CAAC,CAAC;AACtE,iBAAiBR,OAAO,CAACS,WAAW,IAAI,EAAE;AAC1C;AACA;AACA;AACA,OAAO;MACKZ,IAAI,CAACa,aAAa,CAAC,SAAS,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAC1DV,MAAM,CAACW,IAAI,CAACC,GAAG,CAAC;UAAEC,SAAS,EAAEd,OAAO,CAACe,GAAG;UAAEC,SAAS,EAAE,IAAI;UAAET,KAAK,EAAEP,OAAO,CAACO,KAAK;UAAED,IAAI,EAAEN,OAAO,CAACM,IAAI;UAAEW,GAAG,EAAE;QAAE,CAAC,CAAC;QAC9GC,KAAK,CAAC,iBAAiB,CAAC;QACxBC,QAAQ,CAACC,IAAI,GAAG,QAAQ;MAC5B,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRxB,IAAI,CAACE,SAAS,GAAG,0CAA0CsB,CAAC,CAACC,OAAO,QAAQ;IAChF;EACJ;EAEArB,MAAM,CAACsB,KAAK,GAAGtB,MAAM,CAACsB,KAAK,IAAI,CAAC,CAAC;EACjCtB,MAAM,CAACsB,KAAK,CAACC,aAAa,GAAG;IAAE5B;EAAM,CAAC;AAC1C,CAAC,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}