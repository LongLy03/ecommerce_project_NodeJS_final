{"ast":null,"code":"// src/pages/CartPage.js\n(function () {\n  function mount(root) {\n    const items = window.Cart.all();\n    if (!items.length) {\n      root.innerHTML = `<div class=\"p-4\">Giỏ hàng trống. <a href=\"#/catalog\" class=\"link\">Mua sắm ngay</a></div>`;\n      return;\n    }\n    const total = items.reduce((s, it) => s + (it.price || 0) * (it.qty || 1), 0);\n    root.innerHTML = `\n      <div class=\"cart\">\n        <h2>Giỏ hàng</h2>\n        <ul class=\"list\">\n          ${items.map(it => `\n            <li class=\"row\">\n              <div class=\"name\">${it.name}</div>\n              <div class=\"qty\">x${it.qty}</div>\n              <div class=\"price\">${(it.price * it.qty).toLocaleString()} đ</div>\n              <button class=\"btn-remove\" data-id=\"${it.productId}\">Xóa</button>\n            </li>\n          `).join('')}\n        </ul>\n        <div class=\"total\">Tổng: <b>${total.toLocaleString()} đ</b></div>\n        <a class=\"btn\" href=\"#/checkout\">Thanh toán</a>\n      </div>\n    `;\n    root.querySelectorAll('.btn-remove').forEach(btn => {\n      btn.addEventListener('click', () => {\n        const productId = btn.getAttribute('data-id');\n        window.Cart.remove(productId, null);\n        mount(root);\n      });\n    });\n  }\n  window.Pages = window.Pages || {};\n  window.Pages.CartPage = {\n    mount\n  };\n})();","map":{"version":3,"names":["mount","root","items","window","Cart","all","length","innerHTML","total","reduce","s","it","price","qty","map","name","toLocaleString","productId","join","querySelectorAll","forEach","btn","addEventListener","getAttribute","remove","Pages","CartPage"],"sources":["D:/DaiHoc/Nam4/HKI/NodeJS/Final/ecommerce_project_NodeJS_final/frontend/src/pages/product/CartPage.js"],"sourcesContent":["// src/pages/CartPage.js\r\n(function() {\r\n        function mount(root) {\r\n            const items = window.Cart.all();\r\n            if (!items.length) {\r\n                root.innerHTML = `<div class=\"p-4\">Giỏ hàng trống. <a href=\"#/catalog\" class=\"link\">Mua sắm ngay</a></div>`;\r\n                return;\r\n            }\r\n            const total = items.reduce((s, it) => s + (it.price || 0) * (it.qty || 1), 0);\r\n\r\n            root.innerHTML = `\r\n      <div class=\"cart\">\r\n        <h2>Giỏ hàng</h2>\r\n        <ul class=\"list\">\r\n          ${items.map(it => `\r\n            <li class=\"row\">\r\n              <div class=\"name\">${it.name}</div>\r\n              <div class=\"qty\">x${it.qty}</div>\r\n              <div class=\"price\">${(it.price * it.qty).toLocaleString()} đ</div>\r\n              <button class=\"btn-remove\" data-id=\"${it.productId}\">Xóa</button>\r\n            </li>\r\n          `).join('')}\r\n        </ul>\r\n        <div class=\"total\">Tổng: <b>${total.toLocaleString()} đ</b></div>\r\n        <a class=\"btn\" href=\"#/checkout\">Thanh toán</a>\r\n      </div>\r\n    `;\r\n\r\n    root.querySelectorAll('.btn-remove').forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        const productId = btn.getAttribute('data-id');\r\n        window.Cart.remove(productId, null);\r\n        mount(root);\r\n      });\r\n    });\r\n  }\r\n\r\n  window.Pages = window.Pages || {};\r\n  window.Pages.CartPage = { mount };\r\n})();"],"mappings":"AAAA;AACA,CAAC,YAAW;EACJ,SAASA,KAAKA,CAACC,IAAI,EAAE;IACjB,MAAMC,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC/B,IAAI,CAACH,KAAK,CAACI,MAAM,EAAE;MACfL,IAAI,CAACM,SAAS,GAAG,0FAA0F;MAC3G;IACJ;IACA,MAAMC,KAAK,GAAGN,KAAK,CAACO,MAAM,CAAC,CAACC,CAAC,EAAEC,EAAE,KAAKD,CAAC,GAAG,CAACC,EAAE,CAACC,KAAK,IAAI,CAAC,KAAKD,EAAE,CAACE,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAE7EZ,IAAI,CAACM,SAAS,GAAG;AAC7B;AACA;AACA;AACA,YAAYL,KAAK,CAACY,GAAG,CAACH,EAAE,IAAI;AAC5B;AACA,kCAAkCA,EAAE,CAACI,IAAI;AACzC,kCAAkCJ,EAAE,CAACE,GAAG;AACxC,mCAAmC,CAACF,EAAE,CAACC,KAAK,GAAGD,EAAE,CAACE,GAAG,EAAEG,cAAc,CAAC,CAAC;AACvE,oDAAoDL,EAAE,CAACM,SAAS;AAChE;AACA,WAAW,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;AACrB;AACA,sCAAsCV,KAAK,CAACQ,cAAc,CAAC,CAAC;AAC5D;AACA;AACA,KAAK;IAEDf,IAAI,CAACkB,gBAAgB,CAAC,aAAa,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;MAClDA,GAAG,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAClC,MAAML,SAAS,GAAGI,GAAG,CAACE,YAAY,CAAC,SAAS,CAAC;QAC7CpB,MAAM,CAACC,IAAI,CAACoB,MAAM,CAACP,SAAS,EAAE,IAAI,CAAC;QACnCjB,KAAK,CAACC,IAAI,CAAC;MACb,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAE,MAAM,CAACsB,KAAK,GAAGtB,MAAM,CAACsB,KAAK,IAAI,CAAC,CAAC;EACjCtB,MAAM,CAACsB,KAAK,CAACC,QAAQ,GAAG;IAAE1B;EAAM,CAAC;AACnC,CAAC,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}