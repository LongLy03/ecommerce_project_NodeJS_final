{"ast":null,"code":"// src/app.js\n(function () {\n  const view = document.getElementById('view'); // <div id=\"view\"></div> trong publics/index.html\n  const nav = document.getElementById('nav'); // nếu bạn có header/nav\n\n  // Khai báo routes → module loader trả về object { mount(root, params) }\n  const routes = {\n    '/landing': () => window.Pages.LandingPage,\n    '/catalog': () => window.Pages.CatalogPage,\n    '/product': () => window.Pages.ProductDetail,\n    // #/product/:id\n    '/cart': () => window.Pages.CartPage,\n    '/checkout': () => window.Pages.CheckoutPage,\n    '/profile': () => window.Pages.ProfilePage,\n    '/login': () => window.Pages.LoginPage,\n    '/register': () => window.Pages.RegisterPage,\n    '/': () => window.Pages.LandingPage // default\n  };\n  function parseHash() {\n    const hash = location.hash || '#/landing';\n    const [path, ...rest] = hash.slice(1).split('/'); // ['','product','123'] -> careful\n    // build route & params\n    const segs = hash.slice(1).split('/');\n    // segs[0] === '' do hash starts with '#/'\n    const base = `/${segs[1] || ''}`;\n    const params = {\n      id: segs[2]\n    };\n    return {\n      route: base || '/landing',\n      params\n    };\n  }\n  async function render() {\n    const {\n      route,\n      params\n    } = parseHash();\n    const loader = routes[route] || routes['/'];\n    view.innerHTML = `<div class=\"p-4 text-sm text-gray-500\">Đang tải...</div>`;\n    try {\n      const page = await loader();\n      await page.mount(view, params);\n    } catch (e) {\n      console.error(e);\n      view.innerHTML = `<div class=\"p-4 text-red-600\">Lỗi tải trang: ${e.message}</div>`;\n    }\n  }\n  window.addEventListener('hashchange', render);\n  window.addEventListener('DOMContentLoaded', render);\n})();","map":{"version":3,"names":["view","document","getElementById","nav","routes","/landing","window","Pages","LandingPage","/catalog","CatalogPage","/product","ProductDetail","/cart","CartPage","/checkout","CheckoutPage","/profile","ProfilePage","/login","LoginPage","/register","RegisterPage","/","parseHash","hash","location","path","rest","slice","split","segs","base","params","id","route","render","loader","innerHTML","page","mount","e","console","error","message","addEventListener"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/app.js"],"sourcesContent":["// src/app.js\r\n(function() {\r\n    const view = document.getElementById('view'); // <div id=\"view\"></div> trong publics/index.html\r\n    const nav = document.getElementById('nav'); // nếu bạn có header/nav\r\n\r\n    // Khai báo routes → module loader trả về object { mount(root, params) }\r\n    const routes = {\r\n        '/landing': () => window.Pages.LandingPage,\r\n        '/catalog': () => window.Pages.CatalogPage,\r\n        '/product': () => window.Pages.ProductDetail, // #/product/:id\r\n        '/cart': () => window.Pages.CartPage,\r\n        '/checkout': () => window.Pages.CheckoutPage,\r\n        '/profile': () => window.Pages.ProfilePage,\r\n        '/login': () => window.Pages.LoginPage,\r\n        '/register': () => window.Pages.RegisterPage,\r\n        '/': () => window.Pages.LandingPage, // default\r\n    };\r\n\r\n    function parseHash() {\r\n        const hash = location.hash || '#/landing';\r\n        const [path, ...rest] = hash.slice(1).split('/'); // ['','product','123'] -> careful\r\n        // build route & params\r\n        const segs = hash.slice(1).split('/');\r\n        // segs[0] === '' do hash starts with '#/'\r\n        const base = `/${segs[1] || ''}`;\r\n        const params = { id: segs[2] };\r\n        return { route: base || '/landing', params };\r\n    }\r\n\r\n    async function render() {\r\n        const { route, params } = parseHash();\r\n        const loader = routes[route] || routes['/'];\r\n        view.innerHTML = `<div class=\"p-4 text-sm text-gray-500\">Đang tải...</div>`;\r\n        try {\r\n            const page = await loader();\r\n            await page.mount(view, params);\r\n        } catch (e) {\r\n            console.error(e);\r\n            view.innerHTML = `<div class=\"p-4 text-red-600\">Lỗi tải trang: ${e.message}</div>`;\r\n        }\r\n    }\r\n\r\n    window.addEventListener('hashchange', render);\r\n    window.addEventListener('DOMContentLoaded', render);\r\n})();"],"mappings":"AAAA;AACA,CAAC,YAAW;EACR,MAAMA,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;EAC9C,MAAMC,GAAG,GAAGF,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;;EAE5C;EACA,MAAME,MAAM,GAAG;IACX,UAAU,EAAEC,CAAA,KAAMC,MAAM,CAACC,KAAK,CAACC,WAAW;IAC1C,UAAU,EAAEC,CAAA,KAAMH,MAAM,CAACC,KAAK,CAACG,WAAW;IAC1C,UAAU,EAAEC,CAAA,KAAML,MAAM,CAACC,KAAK,CAACK,aAAa;IAAE;IAC9C,OAAO,EAAEC,CAAA,KAAMP,MAAM,CAACC,KAAK,CAACO,QAAQ;IACpC,WAAW,EAAEC,CAAA,KAAMT,MAAM,CAACC,KAAK,CAACS,YAAY;IAC5C,UAAU,EAAEC,CAAA,KAAMX,MAAM,CAACC,KAAK,CAACW,WAAW;IAC1C,QAAQ,EAAEC,CAAA,KAAMb,MAAM,CAACC,KAAK,CAACa,SAAS;IACtC,WAAW,EAAEC,CAAA,KAAMf,MAAM,CAACC,KAAK,CAACe,YAAY;IAC5C,GAAG,EAAEC,CAAA,KAAMjB,MAAM,CAACC,KAAK,CAACC,WAAW,CAAE;EACzC,CAAC;EAED,SAASgB,SAASA,CAAA,EAAG;IACjB,MAAMC,IAAI,GAAGC,QAAQ,CAACD,IAAI,IAAI,WAAW;IACzC,MAAM,CAACE,IAAI,EAAE,GAAGC,IAAI,CAAC,GAAGH,IAAI,CAACI,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAClD;IACA,MAAMC,IAAI,GAAGN,IAAI,CAACI,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IACrC;IACA,MAAME,IAAI,GAAG,IAAID,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;IAChC,MAAME,MAAM,GAAG;MAAEC,EAAE,EAAEH,IAAI,CAAC,CAAC;IAAE,CAAC;IAC9B,OAAO;MAAEI,KAAK,EAAEH,IAAI,IAAI,UAAU;MAAEC;IAAO,CAAC;EAChD;EAEA,eAAeG,MAAMA,CAAA,EAAG;IACpB,MAAM;MAAED,KAAK;MAAEF;IAAO,CAAC,GAAGT,SAAS,CAAC,CAAC;IACrC,MAAMa,MAAM,GAAGjC,MAAM,CAAC+B,KAAK,CAAC,IAAI/B,MAAM,CAAC,GAAG,CAAC;IAC3CJ,IAAI,CAACsC,SAAS,GAAG,0DAA0D;IAC3E,IAAI;MACA,MAAMC,IAAI,GAAG,MAAMF,MAAM,CAAC,CAAC;MAC3B,MAAME,IAAI,CAACC,KAAK,CAACxC,IAAI,EAAEiC,MAAM,CAAC;IAClC,CAAC,CAAC,OAAOQ,CAAC,EAAE;MACRC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;MAChBzC,IAAI,CAACsC,SAAS,GAAG,gDAAgDG,CAAC,CAACG,OAAO,QAAQ;IACtF;EACJ;EAEAtC,MAAM,CAACuC,gBAAgB,CAAC,YAAY,EAAET,MAAM,CAAC;EAC7C9B,MAAM,CAACuC,gBAAgB,CAAC,kBAAkB,EAAET,MAAM,CAAC;AACvD,CAAC,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}