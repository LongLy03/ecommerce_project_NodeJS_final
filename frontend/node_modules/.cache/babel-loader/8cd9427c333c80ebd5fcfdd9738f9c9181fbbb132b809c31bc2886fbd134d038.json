{"ast":null,"code":"var _jsxFileName = \"D:\\\\52200147\\\\HKVII\\\\NodeJS\\\\CK\\\\ecommerce_project_NodeJS_final\\\\frontend\\\\src\\\\components\\\\product\\\\ProductCard.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  // Format giá tiền\n  const formatPrice = price => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\"\n    }).format(price || 0);\n  };\n\n  // Hàm lấy ảnh thông minh (Xử lý mọi trường hợp lỗi)\n  const getImageUrl = product => {\n    // 1. Kiểm tra nếu không có ảnh\n    if (!product || !product.images || product.images.length === 0) {\n      return \"https://via.placeholder.com/300x300?text=No+Image\";\n    }\n    const firstImage = product.images[0];\n\n    // 2. Trường hợp dữ liệu mới (Là chuỗi link trực tiếp) -> ƯU TIÊN\n    if (typeof firstImage === 'string') {\n      return firstImage;\n    }\n\n    // 3. Trường hợp dữ liệu cũ (Là object có .url)\n    if (typeof firstImage === 'object' && firstImage.url) {\n      return firstImage.url;\n    }\n    return \"https://via.placeholder.com/300x300?text=Error\";\n  };\n  const imageUrl = getImageUrl(product);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card h-100 shadow-sm border-0\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product.slug || product._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUrl,\n          className: \"card-img-top p-3\",\n          alt: product.name || \"Sản phẩm\",\n          loading: \"lazy\",\n          style: {\n            objectFit: \"contain\",\n            height: \"200px\",\n            width: \"100%\"\n          },\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = \"https://via.placeholder.com/300?text=No+Image\";\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"card-title text-dark fw-bold\",\n          style: {\n            display: '-webkit-box',\n            WebkitLineClamp: 2,\n            WebkitBoxOrient: 'vertical',\n            overflow: 'hidden',\n            height: '2.5em',\n            lineHeight: '1.25em'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"text-decoration-none text-dark\",\n            title: product.name,\n            children: product.name || \"Tên sản phẩm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-danger fw-bold fs-5\",\n              children: formatPrice(product.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-warning\",\n              children: [product.rating || 5, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"btn btn-outline-primary btn-sm w-100\",\n            children: \"Xem chi ti\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","ProductCard","product","formatPrice","price","Intl","NumberFormat","style","currency","format","getImageUrl","images","length","firstImage","url","imageUrl","className","children","to","slug","_id","src","alt","name","loading","objectFit","height","width","onError","e","target","onerror","fileName","_jsxFileName","lineNumber","columnNumber","display","WebkitLineClamp","WebkitBoxOrient","overflow","lineHeight","title","rating","_c","$RefreshReg$"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/components/product/ProductCard.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProductCard = ({ product }) => {\r\n  // Format giá tiền\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    }).format(price || 0);\r\n  };\r\n\r\n  // Hàm lấy ảnh thông minh (Xử lý mọi trường hợp lỗi)\r\n  const getImageUrl = (product) => {\r\n    // 1. Kiểm tra nếu không có ảnh\r\n    if (!product || !product.images || product.images.length === 0) {\r\n      return \"https://via.placeholder.com/300x300?text=No+Image\";\r\n    }\r\n    \r\n    const firstImage = product.images[0];\r\n    \r\n    // 2. Trường hợp dữ liệu mới (Là chuỗi link trực tiếp) -> ƯU TIÊN\r\n    if (typeof firstImage === 'string') {\r\n        return firstImage;\r\n    }\r\n    \r\n    // 3. Trường hợp dữ liệu cũ (Là object có .url)\r\n    if (typeof firstImage === 'object' && firstImage.url) {\r\n        return firstImage.url;\r\n    }\r\n    \r\n    return \"https://via.placeholder.com/300x300?text=Error\";\r\n  };\r\n\r\n  const imageUrl = getImageUrl(product);\r\n\r\n  return (\r\n    <div className=\"col\">\r\n      <div className=\"card h-100 shadow-sm border-0\">\r\n        <Link to={`/product/${product.slug || product._id}`}>\r\n          {/* TỐI ƯU HIỆU NĂNG: loading=\"lazy\" giúp trang web không bị giật lag khi load nhiều ảnh */}\r\n          <img\r\n            src={imageUrl}\r\n            className=\"card-img-top p-3\"\r\n            alt={product.name || \"Sản phẩm\"}\r\n            loading=\"lazy\" \r\n            style={{ objectFit: \"contain\", height: \"200px\", width: \"100%\" }}\r\n            onError={(e) => { \r\n                e.target.onerror = null; \r\n                e.target.src = \"https://via.placeholder.com/300?text=No+Image\"; \r\n            }}\r\n          />\r\n        </Link>\r\n        <div className=\"card-body d-flex flex-column p-3\">\r\n          {/* Tên sản phẩm: Giới hạn 2 dòng để khung đều nhau */}\r\n          <h6 className=\"card-title text-dark fw-bold\" style={{\r\n              display: '-webkit-box',\r\n              WebkitLineClamp: 2,\r\n              WebkitBoxOrient: 'vertical',\r\n              overflow: 'hidden',\r\n              height: '2.5em',\r\n              lineHeight: '1.25em'\r\n          }}>\r\n            <Link\r\n              to={`/product/${product.slug || product._id}`}\r\n              className=\"text-decoration-none text-dark\"\r\n              title={product.name}\r\n            >\r\n              {product.name || \"Tên sản phẩm\"}\r\n            </Link>\r\n          </h6>\r\n          \r\n          <div className=\"mt-auto\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n              <span className=\"text-danger fw-bold fs-5\">\r\n                {formatPrice(product.price)}\r\n              </span>\r\n              <small className=\"text-warning\">\r\n                {product.rating || 5} <i className=\"fas fa-star\"></i>\r\n              </small>\r\n            </div>\r\n            \r\n            <Link \r\n              to={`/product/${product.slug || product._id}`} \r\n              className=\"btn btn-outline-primary btn-sm w-100\"\r\n            >\r\n              Xem chi tiết\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}