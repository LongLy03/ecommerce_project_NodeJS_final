{"ast":null,"code":"var _jsxFileName = \"D:\\\\52200147\\\\HKVII\\\\NodeJS\\\\CK\\\\ecommerce_project_NodeJS_final\\\\frontend\\\\src\\\\pages\\\\admin\\\\ProductEdit.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AdminAPI, ProductAPI } from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"../../components/common/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductEdit = () => {\n  _s();\n  // --- PHẦN TASKBAR ADMIN (Menu điều hướng) ---\n  const AdminTaskbar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white shadow-sm mb-4 p-3 rounded d-flex flex-wrap gap-2 align-items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fw-bold text-primary me-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-user-shield me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 53\n      }, this), \"QU\\u1EA2N TR\\u1ECA:\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin\",\n      className: `btn btn-sm ${location.pathname === \"/admin\" ? \"btn-primary\" : \"btn-outline-primary\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-tachometer-alt me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 11\n      }, this), \" Dashboard\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/products\",\n      className: \"btn btn-sm btn-outline-success\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-box-open me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this), \" S\\u1EA3n ph\\u1EA9m\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/users\",\n      className: \"btn btn-sm btn-outline-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-users me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }, this), \" Ng\\u01B0\\u1EDDi d\\xF9ng\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/orders\",\n      className: \"btn btn-sm btn-outline-warning text-dark\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-clipboard-list me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this), \" \\u0110\\u01A1n h\\xE0ng\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/discounts\",\n      className: \"btn btn-sm btn-outline-danger\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-tags me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this), \" M\\xE3 gi\\u1EA3m gi\\xE1\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 7\n  }, this);\n  const {\n    id\n  } = useParams(); // Nếu có ID -> Mode Edit, không có -> Mode Create\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n  const [loading, setLoading] = useState(isEditMode);\n  const [categories, setCategories] = useState([]); // Danh sách danh mục để chọn\n\n  // State lưu trữ dữ liệu form\n  const [formData, setFormData] = useState({\n    name: \"\",\n    slug: \"\",\n    brand: \"\",\n    category: \"\",\n    price: 0,\n    description: \"\",\n    images: [],\n    // Mảng chứa link ảnh (string)\n    imageUrlInput: \"\",\n    // Input tạm để add link ảnh\n    variants: [] // Mảng chứa các biến thể sản phẩm\n  });\n\n  // State cho form thêm biến thể mới\n  const [newVariant, setNewVariant] = useState({\n    sku: \"\",\n    name: \"\",\n    price: 0,\n    stock: 0,\n    attributes: [] // [{ key: \"Màu\", value: \"Đỏ\" }]\n  });\n  const [showVariantForm, setShowVariantForm] = useState(false);\n  useEffect(() => {\n    const initData = async () => {\n      try {\n        // 1. Lấy danh mục\n        const cats = await AdminAPI.getCategories();\n        setCategories(cats);\n\n        // 2. Nếu là Edit, lấy chi tiết sản phẩm\n        if (isEditMode) {\n          var _product$category;\n          const product = await ProductAPI.getDetail(id);\n          setFormData({\n            name: product.name,\n            slug: product.slug,\n            brand: product.brand,\n            category: ((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category._id) || product.category,\n            price: product.price,\n            description: product.description,\n            // Xử lý ảnh: nếu là object {url: ...} thì lấy url, nếu là string thì giữ nguyên\n            images: product.images.map(img => typeof img === 'string' ? img : img.url),\n            imageUrlInput: \"\",\n            variants: product.variants || []\n          });\n        }\n      } catch (error) {\n        console.error(\"Init Data Error:\", error);\n        toast.error(\"Lỗi tải dữ liệu\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    initData();\n  }, [id, isEditMode]);\n\n  // Xử lý nhập liệu cơ bản\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // --- QUẢN LÝ HÌNH ẢNH ---\n  const handleAddImage = () => {\n    if (!formData.imageUrlInput) return;\n    setFormData({\n      ...formData,\n      images: [...formData.images, formData.imageUrlInput],\n      imageUrlInput: \"\"\n    });\n  };\n  const handleRemoveImage = index => {\n    const newImages = formData.images.filter((_, i) => i !== index);\n    setFormData({\n      ...formData,\n      images: newImages\n    });\n  };\n\n  // --- QUẢN LÝ BIẾN THỂ (VARIANTS) ---\n  const handleVariantChange = e => {\n    setNewVariant({\n      ...newVariant,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAddVariant = () => {\n    // Validate cơ bản\n    if (!newVariant.sku || !newVariant.name || newVariant.price < 0 || newVariant.stock < 0) {\n      return toast.warning(\"Vui lòng nhập đầy đủ thông tin biến thể\");\n    }\n\n    // Tự động tạo attributes từ tên (Ví dụ tên \"Màu Đỏ\" -> attributes: [{key: \"Tên\", value: \"Màu Đỏ\"}])\n    // Hoặc bạn có thể làm form nhập attributes phức tạp hơn nếu cần\n    const variantToAdd = {\n      ...newVariant,\n      attributes: [{\n        key: \"Tên\",\n        value: newVariant.name\n      }]\n    };\n    setFormData({\n      ...formData,\n      variants: [...formData.variants, variantToAdd]\n    });\n\n    // Reset form\n    setNewVariant({\n      sku: \"\",\n      name: \"\",\n      price: 0,\n      stock: 0,\n      attributes: []\n    });\n    setShowVariantForm(false);\n  };\n  const handleRemoveVariant = index => {\n    if (!window.confirm(\"Xóa biến thể này?\")) return;\n    const newVariants = formData.variants.filter((_, i) => i !== index);\n    setFormData({\n      ...formData,\n      variants: newVariants\n    });\n  };\n\n  // --- SUBMIT FORM ---\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const payload = {\n        ...formData\n      };\n      delete payload.imageUrlInput; // Bỏ trường thừa\n\n      if (isEditMode) {\n        await AdminAPI.updateProduct(id, payload);\n        toast.success(\"Cập nhật sản phẩm thành công\");\n      } else {\n        await AdminAPI.addProduct(payload);\n        toast.success(\"Tạo sản phẩm mới thành công\");\n      }\n      navigate(\"/admin/products\");\n    } catch (error) {\n      console.error(\"Submit Error:\", error);\n      toast.error(error.message || \"Lỗi lưu sản phẩm\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4 mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"fw-bold text-primary\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: `fas ${isEditMode ? 'fa-edit' : 'fa-plus-circle'} me-2`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), isEditMode ? \"Chỉnh sửa sản phẩm\" : \"Thêm sản phẩm mới\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        onClick: () => navigate(\"/admin/products\"),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), \"Quay l\\u1EA1i\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-sm border-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"mb-3 border-bottom pb-2 text-muted\",\n                children: \"Th\\xF4ng tin chung\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label fw-bold\",\n                  children: [\"T\\xEAn s\\u1EA3n ph\\u1EA9m \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 70\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"name\",\n                  value: formData.name,\n                  onChange: handleChange,\n                  placeholder: \"V\\xED d\\u1EE5: Laptop Dell XPS 13\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label fw-bold\",\n                    children: [\"Slug (URL) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 70\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"slug\",\n                    value: formData.slug,\n                    onChange: handleChange,\n                    placeholder: \"laptop-dell-xps-13\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label fw-bold\",\n                    children: [\"Th\\u01B0\\u01A1ng hi\\u1EC7u \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 71\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"brand\",\n                    value: formData.brand,\n                    onChange: handleChange,\n                    placeholder: \"Dell, Apple, Sony...\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label fw-bold\",\n                    children: [\"Danh m\\u1EE5c \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 68\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-select\",\n                    name: \"category\",\n                    value: formData.category,\n                    onChange: handleChange,\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Ch\\u1ECDn danh m\\u1EE5c --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 23\n                    }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: cat._id,\n                      children: cat.name\n                    }, cat._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label fw-bold\",\n                    children: [\"Gi\\xE1 g\\u1ED1c (VN\\u0110) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 73\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"form-control\",\n                    name: \"price\",\n                    value: formData.price,\n                    onChange: handleChange,\n                    min: \"0\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label fw-bold\",\n                  children: \"M\\xF4 t\\u1EA3 chi ti\\u1EBFt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  rows: \"6\",\n                  name: \"description\",\n                  value: formData.description,\n                  onChange: handleChange,\n                  placeholder: \"Nh\\u1EADp m\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-3 border-bottom pb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-0 text-muted\",\n                    children: \"Bi\\u1EBFn th\\u1EC3 s\\u1EA3n ph\\u1EA9m (Variants)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-sm btn-outline-primary\",\n                    onClick: () => setShowVariantForm(!showVariantForm),\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 29\n                    }, this), \"Th\\xEAm bi\\u1EBFn th\\u1EC3\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), showVariantForm && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card bg-light mb-3 p-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row g-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control form-control-sm\",\n                        placeholder: \"SKU (M\\xE3 kho)\",\n                        name: \"sku\",\n                        value: newVariant.sku,\n                        onChange: handleVariantChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control form-control-sm\",\n                        placeholder: \"T\\xEAn (VD: M\\xE0u \\u0110\\u1ECF)\",\n                        name: \"name\",\n                        value: newVariant.name,\n                        onChange: handleVariantChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        className: \"form-control form-control-sm\",\n                        placeholder: \"Gi\\xE1\",\n                        name: \"price\",\n                        value: newVariant.price,\n                        onChange: handleVariantChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 296,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        className: \"form-control form-control-sm\",\n                        placeholder: \"T\\u1ED3n kho\",\n                        name: \"stock\",\n                        value: newVariant.stock,\n                        onChange: handleVariantChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-success w-100\",\n                        onClick: handleAddVariant,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-check\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 302,\n                          columnNumber: 127\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-responsive\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table table-bordered table-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      className: \"table-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"SKU\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 313,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"T\\xEAn bi\\u1EBFn th\\u1EC3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Gi\\xE1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"T\\u1ED3n kho\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 316,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          style: {\n                            width: '50px'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 317,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: [formData.variants.map((v, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: v.sku\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 323,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: v.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: new Intl.NumberFormat('vi-VN').format(v.price)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: v.stock\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 326,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            className: \"btn btn-xs text-danger\",\n                            onClick: () => handleRemoveVariant(idx),\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"fas fa-trash\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 329,\n                              columnNumber: 49\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 328,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 327,\n                          columnNumber: 41\n                        }, this)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 37\n                      }, this)), formData.variants.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: /*#__PURE__*/_jsxDEV(\"td\", {\n                          colSpan: \"5\",\n                          className: \"text-center text-muted small\",\n                          children: \"Ch\\u01B0a c\\xF3 bi\\u1EBFn th\\u1EC3 n\\xE0o.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 335,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"mb-3 border-bottom pb-2 text-muted\",\n                children: \"H\\xECnh \\u1EA3nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small\",\n                  children: \"Th\\xEAm link \\u1EA3nh m\\u1EDBi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group input-group-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"https://example.com/image.jpg\",\n                    name: \"imageUrlInput\",\n                    value: formData.imageUrlInput,\n                    onChange: handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-primary\",\n                    onClick: handleAddImage,\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text text-muted\",\n                  style: {\n                    fontSize: '0.8rem'\n                  },\n                  children: \"Khuy\\xEAn d\\xF9ng link \\u1EA3nh online (Unsplash, Imgur...) \\u0111\\u1EC3 hi\\u1EC3n th\\u1ECB t\\u1ED1t nh\\u1EA5t.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-wrap gap-2 mt-3 p-2 border rounded bg-light\",\n                style: {\n                  minHeight: '100px'\n                },\n                children: [formData.images.map((url, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-relative\",\n                  style: {\n                    width: \"90px\",\n                    height: \"90px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: url,\n                    alt: \"\",\n                    className: \"w-100 h-100 object-fit-cover rounded border bg-white\",\n                    onError: e => {\n                      e.target.src = \"https://via.placeholder.com/90?text=Error\";\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-sm btn-danger position-absolute top-0 end-0 p-0 rounded-circle shadow-sm\",\n                    style: {\n                      width: \"20px\",\n                      height: \"20px\",\n                      lineHeight: \"10px\",\n                      transform: \"translate(30%, -30%)\"\n                    },\n                    onClick: () => handleRemoveImage(idx),\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 25\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this)), formData.images.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 text-center align-self-center text-muted small\",\n                  children: \"Ch\\u01B0a c\\xF3 \\u1EA3nh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary px-4\",\n              onClick: () => navigate(\"/admin/products\"),\n              children: \"H\\u1EE7y b\\u1ECF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success px-5 fw-bold shadow-sm\",\n              children: isEditMode ? \"Lưu thay đổi\" : \"Tạo sản phẩm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductEdit, \"/Ceq9zraBAdx66lYJ3+b8J0S+XM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductEdit;\nexport default ProductEdit;\nvar _c;\n$RefreshReg$(_c, \"ProductEdit\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","AdminAPI","ProductAPI","toast","Loader","jsxDEV","_jsxDEV","ProductEdit","_s","AdminTaskbar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Link","to","location","pathname","id","navigate","isEditMode","loading","setLoading","categories","setCategories","formData","setFormData","name","slug","brand","category","price","description","images","imageUrlInput","variants","newVariant","setNewVariant","sku","stock","attributes","showVariantForm","setShowVariantForm","initData","cats","getCategories","_product$category","product","getDetail","_id","map","img","url","error","console","handleChange","e","target","value","handleAddImage","handleRemoveImage","index","newImages","filter","_","i","handleVariantChange","handleAddVariant","warning","variantToAdd","key","handleRemoveVariant","window","confirm","newVariants","handleSubmit","preventDefault","payload","updateProduct","success","addProduct","message","onClick","onSubmit","type","onChange","placeholder","required","cat","min","rows","style","width","v","idx","Intl","NumberFormat","format","length","colSpan","fontSize","minHeight","height","src","alt","onError","lineHeight","transform","_c","$RefreshReg$"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/pages/admin/ProductEdit.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { AdminAPI, ProductAPI } from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport Loader from \"../../components/common/Loader\";\r\n\r\nconst ProductEdit = () => {\r\n\r\n    // --- PHẦN TASKBAR ADMIN (Menu điều hướng) ---\r\n    const AdminTaskbar = () => (\r\n      <div className=\"bg-white shadow-sm mb-4 p-3 rounded d-flex flex-wrap gap-2 align-items-center\">\r\n        <span className=\"fw-bold text-primary me-3\"><i className=\"fas fa-user-shield me-2\"></i>QUẢN TRỊ:</span>\r\n        \r\n        <Link to=\"/admin\" className={`btn btn-sm ${location.pathname === \"/admin\" ? \"btn-primary\" : \"btn-outline-primary\"}`}>\r\n          <i className=\"fas fa-tachometer-alt me-1\"></i> Dashboard\r\n        </Link>\r\n  \r\n        <Link to=\"/admin/products\" className=\"btn btn-sm btn-outline-success\">\r\n          <i className=\"fas fa-box-open me-1\"></i> Sản phẩm\r\n        </Link>\r\n  \r\n        <Link to=\"/admin/users\" className=\"btn btn-sm btn-outline-info\">\r\n          <i className=\"fas fa-users me-1\"></i> Người dùng\r\n        </Link>\r\n  \r\n        <Link to=\"/admin/orders\" className=\"btn btn-sm btn-outline-warning text-dark\">\r\n          <i className=\"fas fa-clipboard-list me-1\"></i> Đơn hàng\r\n        </Link>\r\n  \r\n        <Link to=\"/admin/discounts\" className=\"btn btn-sm btn-outline-danger\">\r\n          <i className=\"fas fa-tags me-1\"></i> Mã giảm giá\r\n        </Link>\r\n      </div>\r\n    );\r\n\r\n  const { id } = useParams(); // Nếu có ID -> Mode Edit, không có -> Mode Create\r\n  const navigate = useNavigate();\r\n  const isEditMode = !!id;\r\n\r\n  const [loading, setLoading] = useState(isEditMode);\r\n  const [categories, setCategories] = useState([]); // Danh sách danh mục để chọn\r\n  \r\n  // State lưu trữ dữ liệu form\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    slug: \"\",\r\n    brand: \"\",\r\n    category: \"\",\r\n    price: 0,\r\n    description: \"\",\r\n    images: [], // Mảng chứa link ảnh (string)\r\n    imageUrlInput: \"\", // Input tạm để add link ảnh\r\n    variants: [] // Mảng chứa các biến thể sản phẩm\r\n  });\r\n\r\n  // State cho form thêm biến thể mới\r\n  const [newVariant, setNewVariant] = useState({\r\n    sku: \"\",\r\n    name: \"\",\r\n    price: 0,\r\n    stock: 0,\r\n    attributes: [] // [{ key: \"Màu\", value: \"Đỏ\" }]\r\n  });\r\n  const [showVariantForm, setShowVariantForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initData = async () => {\r\n      try {\r\n        // 1. Lấy danh mục\r\n        const cats = await AdminAPI.getCategories(); \r\n        setCategories(cats);\r\n\r\n        // 2. Nếu là Edit, lấy chi tiết sản phẩm\r\n        if (isEditMode) {\r\n          const product = await ProductAPI.getDetail(id);\r\n          setFormData({\r\n            name: product.name,\r\n            slug: product.slug,\r\n            brand: product.brand,\r\n            category: product.category?._id || product.category, \r\n            price: product.price,\r\n            description: product.description,\r\n            // Xử lý ảnh: nếu là object {url: ...} thì lấy url, nếu là string thì giữ nguyên\r\n            images: product.images.map(img => typeof img === 'string' ? img : img.url),\r\n            imageUrlInput: \"\",\r\n            variants: product.variants || []\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Init Data Error:\", error);\r\n        toast.error(\"Lỗi tải dữ liệu\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    initData();\r\n  }, [id, isEditMode]);\r\n\r\n  // Xử lý nhập liệu cơ bản\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // --- QUẢN LÝ HÌNH ẢNH ---\r\n  const handleAddImage = () => {\r\n    if (!formData.imageUrlInput) return;\r\n    setFormData({\r\n      ...formData,\r\n      images: [...formData.images, formData.imageUrlInput],\r\n      imageUrlInput: \"\"\r\n    });\r\n  };\r\n\r\n  const handleRemoveImage = (index) => {\r\n    const newImages = formData.images.filter((_, i) => i !== index);\r\n    setFormData({ ...formData, images: newImages });\r\n  };\r\n\r\n  // --- QUẢN LÝ BIẾN THỂ (VARIANTS) ---\r\n  const handleVariantChange = (e) => {\r\n    setNewVariant({ ...newVariant, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleAddVariant = () => {\r\n    // Validate cơ bản\r\n    if (!newVariant.sku || !newVariant.name || newVariant.price < 0 || newVariant.stock < 0) {\r\n        return toast.warning(\"Vui lòng nhập đầy đủ thông tin biến thể\");\r\n    }\r\n\r\n    // Tự động tạo attributes từ tên (Ví dụ tên \"Màu Đỏ\" -> attributes: [{key: \"Tên\", value: \"Màu Đỏ\"}])\r\n    // Hoặc bạn có thể làm form nhập attributes phức tạp hơn nếu cần\r\n    const variantToAdd = {\r\n        ...newVariant,\r\n        attributes: [{ key: \"Tên\", value: newVariant.name }] \r\n    };\r\n\r\n    setFormData({\r\n        ...formData,\r\n        variants: [...formData.variants, variantToAdd]\r\n    });\r\n\r\n    // Reset form\r\n    setNewVariant({ sku: \"\", name: \"\", price: 0, stock: 0, attributes: [] });\r\n    setShowVariantForm(false);\r\n  };\r\n\r\n  const handleRemoveVariant = (index) => {\r\n      if(!window.confirm(\"Xóa biến thể này?\")) return;\r\n      const newVariants = formData.variants.filter((_, i) => i !== index);\r\n      setFormData({ ...formData, variants: newVariants });\r\n  };\r\n\r\n  // --- SUBMIT FORM ---\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = { ...formData };\r\n      delete payload.imageUrlInput; // Bỏ trường thừa\r\n\r\n      if (isEditMode) {\r\n        await AdminAPI.updateProduct(id, payload);\r\n        toast.success(\"Cập nhật sản phẩm thành công\");\r\n      } else {\r\n        await AdminAPI.addProduct(payload);\r\n        toast.success(\"Tạo sản phẩm mới thành công\");\r\n      }\r\n      navigate(\"/admin/products\");\r\n    } catch (error) {\r\n      console.error(\"Submit Error:\", error);\r\n      toast.error(error.message || \"Lỗi lưu sản phẩm\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <div className=\"container mt-4 mb-5\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2 className=\"fw-bold text-primary\">\r\n          <i className={`fas ${isEditMode ? 'fa-edit' : 'fa-plus-circle'} me-2`}></i>\r\n          {isEditMode ? \"Chỉnh sửa sản phẩm\" : \"Thêm sản phẩm mới\"}\r\n        </h2>\r\n        <button className=\"btn btn-outline-secondary\" onClick={() => navigate(\"/admin/products\")}>\r\n          <i className=\"fas fa-arrow-left me-2\"></i>Quay lại\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"card shadow-sm border-0\">\r\n        <div className=\"card-body p-4\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row\">\r\n              {/* CỘT TRÁI: Thông tin chính */}\r\n              <div className=\"col-md-8\">\r\n                <h5 className=\"mb-3 border-bottom pb-2 text-muted\">Thông tin chung</h5>\r\n                \r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label fw-bold\">Tên sản phẩm <span className=\"text-danger\">*</span></label>\r\n                  <input \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    name=\"name\" \r\n                    value={formData.name} \r\n                    onChange={handleChange} \r\n                    placeholder=\"Ví dụ: Laptop Dell XPS 13\"\r\n                    required \r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label fw-bold\">Slug (URL) <span className=\"text-danger\">*</span></label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        name=\"slug\" \r\n                        value={formData.slug} \r\n                        onChange={handleChange} \r\n                        placeholder=\"laptop-dell-xps-13\"\r\n                        required \r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label fw-bold\">Thương hiệu <span className=\"text-danger\">*</span></label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        name=\"brand\" \r\n                        value={formData.brand} \r\n                        onChange={handleChange} \r\n                        placeholder=\"Dell, Apple, Sony...\"\r\n                        required \r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label fw-bold\">Danh mục <span className=\"text-danger\">*</span></label>\r\n                    <select className=\"form-select\" name=\"category\" value={formData.category} onChange={handleChange} required>\r\n                      <option value=\"\">-- Chọn danh mục --</option>\r\n                      {categories.map(cat => (\r\n                        <option key={cat._id} value={cat._id}>{cat.name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label fw-bold\">Giá gốc (VNĐ) <span className=\"text-danger\">*</span></label>\r\n                    <input \r\n                        type=\"number\" \r\n                        className=\"form-control\" \r\n                        name=\"price\" \r\n                        value={formData.price} \r\n                        onChange={handleChange} \r\n                        min=\"0\"\r\n                        required \r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label fw-bold\">Mô tả chi tiết</label>\r\n                  <textarea \r\n                    className=\"form-control\" \r\n                    rows=\"6\" \r\n                    name=\"description\" \r\n                    value={formData.description} \r\n                    onChange={handleChange}\r\n                    placeholder=\"Nhập mô tả sản phẩm...\"\r\n                  ></textarea>\r\n                </div>\r\n\r\n                {/* QUẢN LÝ BIẾN THỂ */}\r\n                <div className=\"mt-4\">\r\n                    <div className=\"d-flex justify-content-between align-items-center mb-3 border-bottom pb-2\">\r\n                        <h5 className=\"mb-0 text-muted\">Biến thể sản phẩm (Variants)</h5>\r\n                        <button \r\n                            type=\"button\" \r\n                            className=\"btn btn-sm btn-outline-primary\"\r\n                            onClick={() => setShowVariantForm(!showVariantForm)}\r\n                        >\r\n                            <i className=\"fas fa-plus me-1\"></i>Thêm biến thể\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Form thêm biến thể */}\r\n                    {showVariantForm && (\r\n                        <div className=\"card bg-light mb-3 p-3\">\r\n                            <div className=\"row g-2\">\r\n                                <div className=\"col-md-3\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"SKU (Mã kho)\" name=\"sku\" value={newVariant.sku} onChange={handleVariantChange} />\r\n                                </div>\r\n                                <div className=\"col-md-3\">\r\n                                    <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"Tên (VD: Màu Đỏ)\" name=\"name\" value={newVariant.name} onChange={handleVariantChange} />\r\n                                </div>\r\n                                <div className=\"col-md-3\">\r\n                                    <input type=\"number\" className=\"form-control form-control-sm\" placeholder=\"Giá\" name=\"price\" value={newVariant.price} onChange={handleVariantChange} />\r\n                                </div>\r\n                                <div className=\"col-md-2\">\r\n                                    <input type=\"number\" className=\"form-control form-control-sm\" placeholder=\"Tồn kho\" name=\"stock\" value={newVariant.stock} onChange={handleVariantChange} />\r\n                                </div>\r\n                                <div className=\"col-md-1\">\r\n                                    <button type=\"button\" className=\"btn btn-sm btn-success w-100\" onClick={handleAddVariant}><i className=\"fas fa-check\"></i></button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Danh sách biến thể */}\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-sm\">\r\n                            <thead className=\"table-light\">\r\n                                <tr>\r\n                                    <th>SKU</th>\r\n                                    <th>Tên biến thể</th>\r\n                                    <th>Giá</th>\r\n                                    <th>Tồn kho</th>\r\n                                    <th style={{width: '50px'}}></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {formData.variants.map((v, idx) => (\r\n                                    <tr key={idx}>\r\n                                        <td>{v.sku}</td>\r\n                                        <td>{v.name}</td>\r\n                                        <td>{new Intl.NumberFormat('vi-VN').format(v.price)}</td>\r\n                                        <td>{v.stock}</td>\r\n                                        <td className=\"text-center\">\r\n                                            <button type=\"button\" className=\"btn btn-xs text-danger\" onClick={() => handleRemoveVariant(idx)}>\r\n                                                <i className=\"fas fa-trash\"></i>\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                                {formData.variants.length === 0 && (\r\n                                    <tr><td colSpan=\"5\" className=\"text-center text-muted small\">Chưa có biến thể nào.</td></tr>\r\n                                )}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* CỘT PHẢI: Hình ảnh */}\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"mb-3 border-bottom pb-2 text-muted\">Hình ảnh</h5>\r\n                \r\n                <div className=\"mb-3\">\r\n                    <label className=\"form-label small\">Thêm link ảnh mới</label>\r\n                    <div className=\"input-group input-group-sm\">\r\n                        <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"https://example.com/image.jpg\" \r\n                        name=\"imageUrlInput\"\r\n                        value={formData.imageUrlInput}\r\n                        onChange={handleChange}\r\n                        />\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={handleAddImage}>\r\n                            <i className=\"fas fa-plus\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"form-text text-muted\" style={{fontSize: '0.8rem'}}>\r\n                        Khuyên dùng link ảnh online (Unsplash, Imgur...) để hiển thị tốt nhất.\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"d-flex flex-wrap gap-2 mt-3 p-2 border rounded bg-light\" style={{minHeight: '100px'}}>\r\n                    {formData.images.map((url, idx) => (\r\n                    <div key={idx} className=\"position-relative\" style={{width: \"90px\", height: \"90px\"}}>\r\n                        <img \r\n                            src={url} \r\n                            alt=\"\" \r\n                            className=\"w-100 h-100 object-fit-cover rounded border bg-white\" \r\n                            onError={(e) => {e.target.src=\"https://via.placeholder.com/90?text=Error\"}}\r\n                        />\r\n                        <button \r\n                        type=\"button\"\r\n                        className=\"btn btn-sm btn-danger position-absolute top-0 end-0 p-0 rounded-circle shadow-sm\" \r\n                        style={{width: \"20px\", height: \"20px\", lineHeight: \"10px\", transform: \"translate(30%, -30%)\"}}\r\n                        onClick={() => handleRemoveImage(idx)}\r\n                        >\r\n                        &times;\r\n                        </button>\r\n                    </div>\r\n                    ))}\r\n                    {formData.images.length === 0 && (\r\n                        <div className=\"w-100 text-center align-self-center text-muted small\">Chưa có ảnh</div>\r\n                    )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <hr className=\"my-4\" />\r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n                <button type=\"button\" className=\"btn btn-secondary px-4\" onClick={() => navigate(\"/admin/products\")}>\r\n                    Hủy bỏ\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn-success px-5 fw-bold shadow-sm\">\r\n                    {isEditMode ? \"Lưu thay đổi\" : \"Tạo sản phẩm\"}\r\n                </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}