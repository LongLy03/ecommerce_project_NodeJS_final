{"ast":null,"code":"var _jsxFileName = \"D:\\\\52200147\\\\HKVII\\\\NodeJS\\\\CK\\\\ecommerce_project_NodeJS_final\\\\frontend\\\\src\\\\components\\\\product\\\\ProductCard.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// 1. Ảnh giữ chỗ dạng SVG (Mã hóa Base64) - KHÔNG CẦN MẠNG\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PLACEHOLDER_IMG = \"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22200%22%20height%3D%22200%22%20viewBox%3D%220%200%20200%20200%22%3E%3Crect%20fill%3D%22%23f8f9fa%22%20width%3D%22200%22%20height%3D%22200%22%2F%3E%3Ctext%20fill%3D%22%23dee2e6%22%20font-family%3D%22sans-serif%22%20font-size%3D%2230%22%20dy%3D%2210.5%22%20font-weight%3D%22bold%22%20x%3D%2250%25%22%20y%3D%2250%25%22%20text-anchor%3D%22middle%22%3ENo%20Image%3C%2Ftext%3E%3C%2Fsvg%3E\";\nconst ProductCard = ({\n  product\n}) => {\n  // Format giá tiền\n  const formatPrice = price => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\"\n    }).format(price || 0);\n  };\n\n  // Hàm lấy ảnh thông minh\n  const getImageUrl = product => {\n    // 1. Kiểm tra null/undefined\n    if (!product || !product.images || product.images.length === 0) {\n      return PLACEHOLDER_IMG;\n    }\n    const firstImage = product.images[0];\n\n    // 2. Xử lý trường hợp là chuỗi link (String)\n    if (typeof firstImage === 'string') {\n      return firstImage;\n    }\n\n    // 3. Xử lý trường hợp là Object có thuộc tính url\n    if (typeof firstImage === 'object' && firstImage.url) {\n      return firstImage.url;\n    }\n\n    // 4. Trường hợp dữ liệu rác\n    return PLACEHOLDER_IMG;\n  };\n  const imageUrl = getImageUrl(product);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card h-100 shadow-sm border-0\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product.slug || product._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUrl,\n          className: \"card-img-top p-3\",\n          alt: product.name || \"Sản phẩm\",\n          loading: \"lazy\",\n          style: {\n            objectFit: \"contain\",\n            height: \"200px\",\n            width: \"100%\"\n          },\n          onError: e => {\n            // Khi ảnh chính bị lỗi tải (404), lập tức thay bằng ảnh SVG nội bộ\n            // KHÔNG GỌI MẠNG RA NGOÀI NỮA -> HẾT LỖI ERR_NAME_NOT_RESOLVED\n            e.target.onerror = null;\n            e.target.src = PLACEHOLDER_IMG;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"card-title text-dark fw-bold\",\n          style: {\n            display: '-webkit-box',\n            WebkitLineClamp: 2,\n            WebkitBoxOrient: 'vertical',\n            overflow: 'hidden',\n            height: '2.5em',\n            lineHeight: '1.25em'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"text-decoration-none text-dark\",\n            title: product.name,\n            children: product.name || \"Tên sản phẩm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-danger fw-bold fs-5\",\n              children: formatPrice(product.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-warning\",\n              children: [product.rating || 0, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product.slug || product._id}`,\n            className: \"btn btn-outline-primary btn-sm w-100\",\n            children: \"Xem chi ti\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","PLACEHOLDER_IMG","ProductCard","product","formatPrice","price","Intl","NumberFormat","style","currency","format","getImageUrl","images","length","firstImage","url","imageUrl","className","children","to","slug","_id","src","alt","name","loading","objectFit","height","width","onError","e","target","onerror","fileName","_jsxFileName","lineNumber","columnNumber","display","WebkitLineClamp","WebkitBoxOrient","overflow","lineHeight","title","rating","_c","$RefreshReg$"],"sources":["D:/52200147/HKVII/NodeJS/CK/ecommerce_project_NodeJS_final/frontend/src/components/product/ProductCard.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// 1. Ảnh giữ chỗ dạng SVG (Mã hóa Base64) - KHÔNG CẦN MẠNG\r\nconst PLACEHOLDER_IMG = \"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22200%22%20height%3D%22200%22%20viewBox%3D%220%200%20200%20200%22%3E%3Crect%20fill%3D%22%23f8f9fa%22%20width%3D%22200%22%20height%3D%22200%22%2F%3E%3Ctext%20fill%3D%22%23dee2e6%22%20font-family%3D%22sans-serif%22%20font-size%3D%2230%22%20dy%3D%2210.5%22%20font-weight%3D%22bold%22%20x%3D%2250%25%22%20y%3D%2250%25%22%20text-anchor%3D%22middle%22%3ENo%20Image%3C%2Ftext%3E%3C%2Fsvg%3E\";\r\n\r\nconst ProductCard = ({ product }) => {\r\n  // Format giá tiền\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    }).format(price || 0);\r\n  };\r\n\r\n  // Hàm lấy ảnh thông minh\r\n  const getImageUrl = (product) => {\r\n    // 1. Kiểm tra null/undefined\r\n    if (!product || !product.images || product.images.length === 0) {\r\n      return PLACEHOLDER_IMG;\r\n    }\r\n    \r\n    const firstImage = product.images[0];\r\n    \r\n    // 2. Xử lý trường hợp là chuỗi link (String)\r\n    if (typeof firstImage === 'string') {\r\n        return firstImage;\r\n    }\r\n    \r\n    // 3. Xử lý trường hợp là Object có thuộc tính url\r\n    if (typeof firstImage === 'object' && firstImage.url) {\r\n        return firstImage.url;\r\n    }\r\n    \r\n    // 4. Trường hợp dữ liệu rác\r\n    return PLACEHOLDER_IMG;\r\n  };\r\n\r\n  const imageUrl = getImageUrl(product);\r\n\r\n  return (\r\n    <div className=\"col\">\r\n      <div className=\"card h-100 shadow-sm border-0\">\r\n        <Link to={`/product/${product.slug || product._id}`}>\r\n          {/* Sử dụng loading=\"lazy\" để giảm tải cho trình duyệt */}\r\n          <img\r\n            src={imageUrl}\r\n            className=\"card-img-top p-3\"\r\n            alt={product.name || \"Sản phẩm\"}\r\n            loading=\"lazy\" \r\n            style={{ objectFit: \"contain\", height: \"200px\", width: \"100%\" }}\r\n            onError={(e) => { \r\n                // Khi ảnh chính bị lỗi tải (404), lập tức thay bằng ảnh SVG nội bộ\r\n                // KHÔNG GỌI MẠNG RA NGOÀI NỮA -> HẾT LỖI ERR_NAME_NOT_RESOLVED\r\n                e.target.onerror = null; \r\n                e.target.src = PLACEHOLDER_IMG; \r\n            }}\r\n          />\r\n        </Link>\r\n        <div className=\"card-body d-flex flex-column p-3\">\r\n          {/* Tên sản phẩm: Giới hạn 2 dòng */}\r\n          <h6 className=\"card-title text-dark fw-bold\" style={{\r\n              display: '-webkit-box',\r\n              WebkitLineClamp: 2,\r\n              WebkitBoxOrient: 'vertical',\r\n              overflow: 'hidden',\r\n              height: '2.5em',\r\n              lineHeight: '1.25em'\r\n          }}>\r\n            <Link\r\n              to={`/product/${product.slug || product._id}`}\r\n              className=\"text-decoration-none text-dark\"\r\n              title={product.name}\r\n            >\r\n              {product.name || \"Tên sản phẩm\"}\r\n            </Link>\r\n          </h6>\r\n          \r\n          <div className=\"mt-auto\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n              <span className=\"text-danger fw-bold fs-5\">\r\n                {formatPrice(product.price)}\r\n              </span>\r\n              <small className=\"text-warning\">\r\n                {product.rating || 0} <i className=\"fas fa-star\"></i>\r\n              </small>\r\n            </div>\r\n            \r\n            <Link \r\n              to={`/product/${product.slug || product._id}`} \r\n              className=\"btn btn-outline-primary btn-sm w-100\"\r\n            >\r\n              Xem chi tiết\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}